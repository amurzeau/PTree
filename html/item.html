<!DOCTYPE html>
<html>

   <head>
      <meta charset="UTF-8">
      <title>Item edition</title>

      <!-- CSS -->
      <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
      <link rel="stylesheet" href="../node_modules/font-awesome/css/font-awesome.min.css">
      <link rel="stylesheet" href="../css/item.css">
   </head>

   <body class="container-fluid">

      <!--
         _______________________________________________________________________
         Source Edition
         _______________________________________________________________________
      -->

      <form id="source_control" class="form">
         <div id="source_description" class="container">
            <h3>Description</h3>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="source_name">Name</label>
                  <input id="source_name" data-itemdata="name" type="text" class="form-control item-control" placeholder="Name">
               </div>
            </div>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="source_ref">Part Number</label>
                  <input id="source_ref" type="text" data-itemdata="ref" class="form-control item-control" placeholder="Part Number" />
               </div>
            </div>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label id="source_color_label" for="source_color" class="active color-label">Color</label>
                  <input id="source_color" type="color" data-itemdata="color" class="color-label form-control item-control" value="#000000" />
               </div>
            </div>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="source_custom1">Free field 1 (displayed)</label>
                  <input id="source_custom1" type="text" data-itemdata="custom1" class="form-control item-control" placeholder="..." />
               </div>
            </div>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="source_custom2">Free field 2 (hidden)</label>
                  <input id="source_custom2" type="text" data-itemdata="custom2" class="form-control item-control" placeholder="..." />
               </div>
            </div>
         </div>
         <div id="source_electrical" class="container">
            <h3>Characteristics</h3>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="source_regtype">Type</label>
               </div>
               <div class="col-xs-12">
                  <select id="source_regtype" data-itemdata="regtype" class="form-control item-control" data-toggle="tooltip" data-placement="bottom" title="Regulator type">
                        <optgroup label="Fixed output">
                           <option value="0">DC/DC</option>
                           <option value="1">LDO</option>
                           <!--<option value="2">Other</option>-->
                        </optgroup>
                        <optgroup label="Adjustable output">
                           <option value="3">DC/DC</option>
                           <option value="4">LDO</option>
                           <!--<option value="5">Other</option>-->
                        </optgroup>
                        <optgroup label="Other">
                           <option value="6">Dummy</option>
                           <option value="7">Perfect</option>
                        </optgroup>
                     </select>
               </div>
            </div>
            <div class="form-group row" id="form-group-vout">
               <div class="col-xs-4 mintypmax"><label for="input_vout_min">V<sub>OUT MIN</sub></label><input id="input_vout_min" type="text" data-itemdata="vout_min" class="form-control input_vout input_num item-control" placeholder="min (V)" data-toggle="tooltip" data-placement="bottom" title="Minimum output voltage (V)" /></div>
               <div class="col-xs-4 mintypmax"><label for="input_vout_typ">V<sub>OUT TYP</sub></label><input id="input_vout_typ" type="text" data-itemdata="vout_typ" class="form-control input_vout input_num item-control" placeholder="typ (V)" data-toggle="tooltip" data-placement="bottom" title="Typical output voltage (V)" /></div>
               <div class="col-xs-4 mintypmax"><label for="input_vout_max">V<sub>OUT MAX</sub></label><input id="input_vout_max" type="text" data-itemdata="vout_max" class="form-control input_vout input_num item-control" placeholder="max (V)" data-toggle="tooltip" data-placement="bottom" title="Maximum output voltage (V)" /></div>
            </div>

            <div class="form-group source_dcdc">
               <label>Efficiency</label>
               <div class="row">
                  <div class="col-xs-5 efficiency"><input id="input_eff"   type="text" class="form-control input_num " placeholder="xx %" data-toggle="tooltip" data-placement="bottom" title="Efficiency (%)" /></div>
                  <div class="col-xs-5 efficiency"><input id="input_eff_i" type="text" class="form-control input_num " placeholder="xx A" data-toggle="tooltip" data-placement="bottom" title="Current (A)" /></div>
                  <div class="col-xs-2 efficiency"><a id="add_eff" class="btn btn-default"><span class="fa fa-plus"></span></a></div>
               </div>
               <canvas id="effChart" width="200" height="80"></canvas>
            </div>

            <div class="form-group row source_ldo" id="form-group-iq">
               <div class="col-xs-4 mintypmax"><label>I<sub>Q MIN</sub></label><input id="input_iq_min" type="text" data-itemdata="iq_min" class="form-control input_iq input_num item-control" placeholder="min (V)" data-toggle="tooltip" data-placement="bottom" title="Min. quiescent current (A)" /></div>
               <div class="col-xs-4 mintypmax"><label>I<sub>Q TYP</sub></label><input id="input_iq_typ" type="text" data-itemdata="iq_typ" class="form-control input_iq input_num item-control" placeholder="typ (V)" data-toggle="tooltip" data-placement="bottom" title="Typical quiescent current (A)" /></div>
               <div class="col-xs-4 mintypmax"><label>I<sub>Q MAX</sub></label><input id="input_iq_max" type="text" data-itemdata="iq_max" class="form-control input_iq input_num item-control" placeholder="max (V)" data-toggle="tooltip" data-placement="bottom" title="Max. quiescent current (A)" /></div>
            </div>
         </div>
         <div id="source_adjustable" class="container">
            <h3>Feadback</h3>
            <div class="form-group row source_adj_group">
               <div class="col-xs-12">
                  <label for="source_r1">R<sub>1</sub> (Ω)</label>
                  <input id="source_r1" data-itemdata="r1" type="text" class="form-control input_num source_adj item-control" placeholder="R between Vout and Vref (Ω)" data-toggle="tooltip" data-placement="bottom" title="R between Vout and Vref (Ω)" />
               </div>
            </div>
            <div class="form-group row source_adj_group">
               <div class="col-xs-12">
                  <label for="source_r2">R<sub>2</sub> (Ω)</label>
                  <input id="source_r2" data-itemdata="r2" type="text" class="form-control input_num source_adj item-control" placeholder="R between Vref and GND (Ω)" data-toggle="tooltip" data-placement="bottom" title="R between Vref and GND (Ω)" />
               </div>
            </div>
            <div class="form-group row source_adj_group">
               <div class="col-xs-12">
                  <label for="source_rtol">R tolerance (%)</label>
                  <input id="source_rtol" data-itemdata="rtol" type="text" class="form-control input_num source_adj item-control" placeholder="Resistor tolerance (%)" data-toggle="tooltip" data-placement="bottom" title="Resistor tolerance (%)" />
               </div>
            </div>
            <div class="form-group row source_adj_group">
               <div class="col-xs-4 mintypmax"><label>V<sub>REF MIN</sub></label><input id="source_vref_min" type="text" data-itemdata="vref_min" class="form-control input_num source_adj item-control" placeholder="typ (V)" data-toggle="tooltip" data-placement="bottom" title="Minium regulator Vref (V)" /></div>
               <div class="col-xs-4 mintypmax"><label>V<sub>REF TYP</sub></label><input id="source_vref_typ" type="text" data-itemdata="vref_typ" class="form-control input_num source_adj item-control" placeholder="typ (V)" data-toggle="tooltip" data-placement="bottom" title="Typical regulator Vref (V)" /></div>
               <div class="col-xs-4 mintypmax"><label>V<sub>REF MAX</sub></label><input id="source_vref_max" type="text" data-itemdata="vref_max" class="form-control input_num source_adj item-control" placeholder="typ (V)" data-toggle="tooltip" data-placement="bottom" title="Maximul regulator Vref (V)" /></div>
            </div>
         </div>
      </form>


      <!--
         _______________________________________________________________________
         Load Edition
         _______________________________________________________________________
      -->

      <form id="load_control" class="form">
         <div id="load_description" class="container">
            <h3>Description</h3>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="load_name">Name</label>
                  <input id="load_name" type="text" data-itemdata="name"  class="form-control input-xs" placeholder="Name">
               </div>
            </div>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label id="load_color_label" for="load_color" class="active">Color</label>
                  <input id="load_color" data-itemdata="color" class="form-control input-xs" type="color" value="#000000" />
               </div>
            </div>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="load_custom1">Free field 1 (displayed)</label>
                  <input id="load_custom1" type="text" data-itemdata="custom1" class="form-control input-xs" placeholder="..." />
               </div>
            </div>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="load_custom2">Free field 2 (hidden)</label>
                  <input id="load_custom2" type="text" data-itemdata="custom2" class="form-control input-xs" placeholder="..." />
               </div>
            </div>
         </div>
         <div id="load_elecrical" class="container">
            <h3>Characteristics</h3>
            <div class="form-group row">
               <div class="col-xs-12">
                  <label for="load_type">Load current</label>
                  <select id="load_type" data-itemdata="loadtype" class="form-control item-control" data-toggle="tooltip" data-placement="bottom" title="Current definition">
                     <option value="1">Raw</option>
                     <option value="0">In PTree partlist</option>
                     <option value="2">In external spreadsheet</option>
                  </select>
                  <p class="loadtype loadtype1">The current is defined here. Enter raw values in Amperes.</p>
                  <p class="loadtype loadtype0">The current is determined by the components of the part list. Nothing to do here. Open the part list.</p>
                  <p class="loadtype loadtype2">The current is defined in the synchronized spreadsheet. Enter the coordinates of the cells.</p>
               </div>
            </div>
            <div class="form-group row loadtype loadtype1">
               <div class="col-xs-6"><label for="load_ityp">I<sub>TYP</sub> (A)</label><br /><input id="load_ityp" data-itemdata="ityp" class="col-xs-6 form-control input_num" type="text" /></div>
               <div class="col-xs-6"><label for="load_imax">I<sub>MAX</sub> (A)</label><br /><input id="load_imax" data-itemdata="imax" class="col-xs-6 form-control input_num" type="text" /></div>
            </div>
            <div class="form-group row loadtype loadtype2">
               <div class="col-xs-6"><label for="load_celltyp">I<sub>TYP</sub> (cell)</label><br /><input id="load_celltyp" data-itemdata="celltyp" class="col-xs-6 form-control input_num" type="text" placeholder="A1" /></div>
               <div class="col-xs-6"><label for="load_cellmax">I<sub>MAX</sub> (cell)</label><br /><input id="load_cellmax" data-itemdata="cellmax" class="col-xs-6 form-control input_num" type="text" placeholder="B1" /></div>
            </div>
         </div>
      </form>

      <menu>
         <button class="mybtn mybtn-cancel" id="edit_cancel">Cancel</button>
         <button class="mybtn mybtn-save" id="edit_ok">Save</button>
      </menu>
   </body>

   <!-- JS framworks and libraries -->
   <script>
      window.$ = window.jQuery = require('jquery');
      require('bootstrap');
      require('chart.js');
   </script>

   <!-- application JS: functions & constructors -->
   <script src="../js/obj.Item.js"></script>
   <script src="../js/obj.ItemEditor.js"></script>
   <script src="../js/functions.js"></script>

   <!-- application JS: this window -->
   <script>
      require('../js/renderer.item.js');
   </script>

</html>
